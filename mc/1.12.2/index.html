<!DOCTYPE html>
<html style="width:100%;height:100%;background-color:black;">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0" />
		<meta name="description" content="Play minecraft 1.12.2 in your browser" />
		<meta name="keywords" content="eaglercraft, eaglercraftx, minecraft, 1.12, 1.12.2" />
		<title>Minecraft 1.12.2</title>
		<meta property="og:locale" content="en-US" />
		<meta property="og:type" content="website" />
		<meta property="og:title" content="EaglercraftX 1.12.2" />
		<meta property="og:description" content="Play minecraft 1.12.2 in your browser" />
		<meta property="og:image" content="favicon.png" />
		<link rel="icon" type="image/png" href="../../assets/images/logo.png" />
		<script type="text/javascript" src="classes.js"></script>
		<script type="text/javascript">
			"use strict";
			window.addEventListener("load", function() {
				if(window.location.href.indexOf("file:") === 0) {
					alert("HTTP please, do not open this file locally, run a local HTTP server and load it via HTTP");
				}else {
					function readLauncherSkin() {
						var raw = null;
						try { raw = window.localStorage.getItem("launcher.customSkin"); } catch(e) { return null; }
						if(!raw) return null;
						try { return JSON.parse(raw); } catch(e) { return null; }
					}
					function mergeProfileWithSkin(existing, skin) {
						if(!skin || !skin.data) return existing;
						var profile = {};
						try { profile = existing ? JSON.parse(existing) : {}; } catch(e) { profile = {}; }
						if(typeof profile !== "object" || profile === null) profile = {};
						var model = (skin.model === "slim") ? "slim" : "default";
						if(typeof profile.customSkin === "object" && profile.customSkin !== null) {
							profile.customSkin.data = skin.data;
							profile.customSkin.model = model;
						} else {
							profile.customSkin = { data: skin.data, model: model };
						}
						profile.customSkinModel = model;
						profile.presetSkin = "CUSTOM";
						return JSON.stringify(profile);
					}
					function writeProfileKey(key, skin) {
						try {
							var existing = window.localStorage.getItem(key);
							window.localStorage.setItem(key, mergeProfileWithSkin(existing, skin));
						} catch(e) {}
					}
					function applyLauncherSkin() {
						var skin = readLauncherSkin();
						if(!skin || !skin.data) return;
						var namespaces = ["_eaglercraft_1.12", "_eaglercraftX", "_eaglercraft_1.8"];
						for(var i = 0; i < namespaces.length; i++) {
							var ns = namespaces[i];
							writeProfileKey(ns + ".profile", skin);
							writeProfileKey(ns + ":profile", skin);
							writeProfileKey(ns + "/profile", skin);
						}
						writeProfileKey("profile", skin);
					}
					function installProfileHook() {
						try {
							var storageProto = window.Storage && window.Storage.prototype;
							if(!storageProto) return;
							var originalSetItem = storageProto.setItem;
							if(typeof originalSetItem !== "function") return;
							storageProto.setItem = function(key, value) {
								try {
									if(typeof key === "string" && /(^|[.:/])profile$/i.test(key)) {
										var skin = readLauncherSkin();
										if(skin && skin.data) {
											value = mergeProfileWithSkin(value, skin);
										}
									}
								} catch(e) {}
								return originalSetItem.call(this, key, value);
							};
						} catch(e) {}
					}
					installProfileHook();
					applyLauncherSkin();
					setTimeout(applyLauncherSkin, 500);
					setTimeout(applyLauncherSkin, 1500);
					setTimeout(applyLauncherSkin, 3000);
					
					// %%%%%%%%% launch options %%%%%%%%%%%%
					
					var relayId = Math.floor(Math.random() * 3);
					window.eaglercraftXOpts = {
						demoMode: false,
						container: "game_frame",
						assetsURI: "assets.epk",
						worldsDB: "worlds",
						servers: [
							/* example: { addr: "ws://localhost:8081/", name: "Local test server" } */
						],
						relays: [
							{ addr: "wss://relay.deev.is/", comment: "lax1dude relay #1", primary: relayId == 0 },
							{ addr: "wss://relay.lax1dude.net/", comment: "lax1dude relay #2", primary: relayId == 1 },
							{ addr: "wss://relay.shhnowisnottheti.me/", comment: "ayunami relay #1", primary: relayId == 2 }
						]
					};
					
					// %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
					
					var q = window.location.search;
					if((typeof q === "string") && q[0] === "?" && (typeof window.URLSearchParams !== "undefined")) {
						q = new window.URLSearchParams(q);
						var s = q.get("server");
						if(s) window.eaglercraftXOpts.joinServer = s;
					}
					
					main();
					
				}
			});
		</script>
	<!-- Startup Screen -->
<style>
#startup-screen {
  position: fixed;
  inset: 0;
  background: #000 url("../../assets/images/startup.png") center / cover no-repeat;
  image-rendering: pixelated;
  z-index: 2147483647;
}
</style>
<script>
(function(){
  function removeStartupScreen(){
    var root = document.getElementById('game_frame') || document.body;
    var attempts = 0;
    var start = Date.now();
    function check(){
      var scope = root || document.body;
      var canvas = scope ? scope.querySelector('canvas') : document.querySelector('canvas');
      if((Date.now() - start) > 30000 || attempts > 1800){
        var screen = document.getElementById('startup-screen');
        if(screen && screen.parentNode){
          screen.parentNode.removeChild(screen);
        }
        return;
      }
      attempts++;
      requestAnimationFrame(check);
    }
    check();
  }
  window.addEventListener('load', removeStartupScreen);
})();
</script><!-- Startup Screen Enforcer -->
<script>
(function(){
  var start = Date.now();
  var timeoutMs = 30000;
  function ensure(){
    if (Date.now() - start > timeoutMs) {
      var existing = document.getElementById('startup-screen');
      if (existing && existing.parentNode) existing.parentNode.removeChild(existing);
      return;
    }
    var overlay = document.getElementById('startup-screen');
    if (!overlay) {
      overlay = document.createElement('div');
      overlay.id = 'startup-screen';
      overlay.style.cssText = 'position:fixed;inset:0;background:#000 url("../../assets/images/startup.png") center / cover no-repeat;image-rendering:pixelated;z-index:2147483647;pointer-events:none;';
      (document.body || document.documentElement).appendChild(overlay);
    }
    requestAnimationFrame(ensure);
  }
  ensure();
})();
</script></head>
	<body style="margin:0px;width:100%;height:100%;overflow:hidden;background-color:black;" id="game_frame">
<div id="startup-screen"></div></body>
</html>

